<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <!-- Always force latest IE rendering engine or request Chrome Frame -->
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,300italic,400italic,400,600' rel='stylesheet' type='text/css'>
  <!-- Use title if it's in the page YAML frontmatter -->
  <title>
      Tips for Java Developers |
    Cloud Foundry Docs
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="/stylesheets/all.css" rel="stylesheet" media="screen, print" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href='/images/favicon.ico' rel='shortcut icon'>

  <script src="/javascripts/all.js"></script>
  <script type="text/javascript">
if (window.location.host === 'docs.cloudfoundry.org') {
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-22181585-2']);
  _gaq.push(['_setDomainName', 'cloudfoundry.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
}
</script>

<!-- CrazyEgg Tracking Script -->
<script type="text/javascript">
if (window.location.host === 'docs.cloudfoundry.org') {
  setTimeout(function() {
    var a = document.createElement("script");
    var b = document.getElementsByTagName("script")[0];
    a.src = document.location.protocol + "//script.crazyegg.com/pages/scripts/0020/8294.js?" + Math.floor(new Date().getTime() / 3600000);
    a.async = true;
    a.type = "text/javascript";
    b.parentNode.insertBefore(a, b)
  }, 1);
}
</script>

<script type="text/javascript">
if (window.location.host === 'docs.cloudfoundry.org') {
  (function() {
    var didInit = false;

    function initMunchkin() {
      if (didInit === false) {
        didInit = true;
        Munchkin.init('625-IUJ-009');
      }
    }

    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
    s.onreadystatechange = function() {
      if (this.readyState == 'complete' || this.readyState == 'loaded') {
        initMunchkin();
      }
    };
    s.onload = initMunchkin;
    document.getElementsByTagName('head')[0].appendChild(s);
  })();
}
</script>


</head>

<body class="buildpacks buildpacks_java buildpacks_java_java-tips has-subnav">

<div class="viewport">
  <div class='wrap'>
    <script type="text/javascript">
      document.domain = "cloudfoundry.org";
    </script>

       
    <header class="header header-layout">
      <h1 class="logo">
        <a href="/">Cloud Foundry Documentation</a>
      </h1>
      
      <div class="header-links js-bar-links">
        <div class="btn-menu" data-behavior="MenuMobile"></div>
        
        <div class="header-item">
          <a href="https://www.cloudfoundry.org/contribute/" target="_blank">Get Involved</a>
        </div>
        <div class="searchbox header-item">
  <form method="get" action="/search">
    <input name="q" placeholder="Search" class="search-box" />
  </form>
</div>

      </div>
    </header>



    <div class="container">

      <!--googleoff: index-->
      <div id="sub-nav" class="js-sidenav collapsible nav-container" role="navigation" data-behavior="Collapsible">
  <a class="sidenav-title" data-behavior="SubMenuMobile">
    Doc Index
  </a>
  <div class="nav-content">
    <ul>
      <li class="has_submenu">
        <a href="/deploying/index.html">Deploying Cloud Foundry</a>
        <ul>
          <li class="has_submenu">
            <a href="/deploying/aws/index.html">Preparing to Deploy on Amazon Web Services</a>
            <ul>
              <li>
                <a href="/deploying/aws/setup_aws.html">Setting up an AWS Environment for Cloud Foundry with BOSH AWS Bootstrap</a>
              </li>
              <li>
                <a href="/deploying/aws/setup_bosh_aws.html">Deploying BOSH on AWS</a>
              </li>
              <li>
                <a href="/deploying/aws/cf-stub.html">Customizing the Cloud Foundry Deployment Manifest for AWS</a>
              </li>
            </ul>
          </li>
          <li class="has_submenu">
            <a href="/deploying/openstack/index.html">Preparing to Deploy on OpenStack</a>
            <ul>
              <li>
                <a href="/deploying/openstack/validate_openstack.html">Validate your OpenStack Instance</a>
              </li>
              <li>
                <a href="/deploying/openstack/security_group.html">Security Group for Cloud Foundry on OpenStack</a>
              </li>
              <li>
                <a href="/deploying/openstack/set-up-dns.html">DNS Setup for Cloud Foundry on OpenStack</a>
              </li>
              <li>
                <a href="/deploying/openstack/required-flavors.html">Required Instance Flavors for Cloud Foundry on OpenStack</a>
              </li>
              <li>
                <a href="/deploying/openstack/cf-stub.html">Customizing the Cloud Foundry Deployment Manifest for OpenStack</a>
              </li>
              <li class="has_submenu">
                <span>Additional OpenStack Configuration</span>
                <ul>
                  <li>
                    <a href="/deploying/openstack/troubleshooting.html">Troubleshooting Cloud Foundry on OpenStack</a>
                  </li>
                  <li>
                    <a href="/deploying/openstack/using_swift_blobstore.html">Using OpenStack Swift as a Cloud Foundry Blobstore</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="has_submenu">
            <a href="/deploying/vsphere/index.html">Preparing to Deploy on vSphere</a>
            <ul>
              <li>
                <a href="https://bosh.io/docs/init-vsphere.html">Initializing BOSH on vSphere</a>
              </li>
              <li>
                <a href="/deploying/common/vsphere-vcloud-cf-stub.html">Customizing the Cloud Foundry Deployment Manifest for vSphere</a>
              </li>
            </ul>
          </li>
          <li class="has_submenu">
            <a href="/deploying/vcloud/index.html">Preparing to Deploy on vCloud</a>
            <ul>
              <li>
                <a href="/deploying/vcloud/setup_vcloud.html">Setting up vCloud Air or vCloud Virtual Data Center Environment</a>
              </li>
              <li>
                <a href="https://bosh.io/docs/init-vcloud.html">Initializing BOSH on vCloud</a>
              </li>
              <li>
                <a href="/deploying/common/vsphere-vcloud-cf-stub.html">Customizing the Cloud Foundry Deployment Manifest for vCloud Air or vCloud Director</a>
              </li>
            </ul>
          </li>

          <li class="has_submenu">
            <a href="/deploying/boshlite/index.html">Preparing to Deploy on BOSH-Lite</a>
            <ul>
              <li>
                <a href="/deploying/boshlite/create_a_manifest.html">Create a Deployment Manifest for Cloud Foundry on BOSH-Lite</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/deploying/common/deploy.html">Deploying Cloud Foundry</a>
          </li>
        <li class="has_submenu">
          <span>Additional Configuration</span>
          <ul>
          <li>
            <a href="/concepts/high-availability.html">High Availability in Cloud Foundry</a>
          </li>
          <li>
            <a href="/deploying/common/log_drain_blacklists.html">Log Drain Blacklist Configuration</a>
          </li>
          <li>
            <a href="/deploying/common/consul-security.html">Security Configuration for Consul</a>
          </li>
          <li>
            <a href="https://github.com/cloudfoundry-community/cf-services-contrib-release">Deploying Community Services</a>
          </li>
          <li>
            <a href="/deploying/common/cc-blobstore-config.html">Cloud Controller Blobstore Configuration</a>
          </li>
          </ul>
        </ul>
      </li>
      <li class="has_submenu">
        <span>Cloud Foundry Command Line Interface (cf CLI)</span>
        <ul>
          <li>
            <a href="/cf-cli/install-go-cli.html">Installing the cf CLI</a>
          </li>
          <li>
            <a href="/cf-cli/getting-started.html">Getting Started with the cf CLI</a>
          </li>
          <li>
            <a href="/cf-cli/http-proxy.html">Using the cf CLI with an HTTP Proxy Server</a>
          </li>
          <li>
            <a href="/cf-cli/self-signed.html">Using the cf CLI with a Self-Signed Certificate</a>
          </li>
          <li>
            <a href="/cf-cli/use-cli-plugins.html">Using cf CLI Plugins</a>
          </li>
          <li>
            <a href="/cf-cli/develop-cli-plugins.html">Developing cf CLI Plugins</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/app-startup.html">About Starting Applications</a>
          </li>
          <li>
            <a href="/cf-cli/cf-help.html">cf CLI Reference Guide</a>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <span>
          Develop and Manage Applications
        </span>
        <ul>
          <li>
            <a href="/devguide/deploy-apps/prepare-to-deploy.html">Considerations for Designing and Running an Application in the Cloud</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/index.html">Understanding Application Deployment</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/deploy-app.html">Deploy an Application</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/large-app-deploy.html">Deploying a Large Application</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/manifest.html">Deploying with Application Manifests</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/app-lifecycle.html">Application Container Lifecycle</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/cf-scale.html">Scaling an Application Using cf scale</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/routes-domains.html">Routes and Domains</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/stacks.html">Changing Stacks</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/environment-variable.html">Cloud Foundry Environment Variables</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/blue-green.html">Using Blue-Green Deployment to Reduce Downtime and Risk</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/streaming-logs.html">Application Logging in Cloud Foundry</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/troubleshoot-app-health.html">Troubleshooting Application Deployment and Health</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/app-ssh-overview.html">Application SSH Overview</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/ssh-apps.html">Accessing Apps with Diego SSH</a>
          </li>
          <li>
            <a href="/devguide/deploy-apps/ssh-services.html">Accessing Services with Diego SSH</a>
          </li>
          <li>
            <a href="/running/cf-api-endpoint.html">Identifying your Cloud Foundry API Endpoint and Version</a>
          </li>
          <li class="has_submenu">
            <span>Integrating Service Instances with Applications</span>
            <ul>
              <li>
                <a href="/devguide/services/">Services Overview</a>
              </li>
              <li>
                <a href="/devguide/services/application-binding.html">Delivering Service Credentials to an Application</a>
              </li>
              <li>
                <a href="/devguide/services/managing-services.html">Managing Service Instances with the CLI</a>
              </li>
              <li>
                <a href="/devguide/services/service-keys.html">Managing Service Keys</a>
              </li>
              <li>
                <a href="/devguide/services/user-provided.html">User-Provided Service Instances</a>
              </li>
              <li>
                <a href="/devguide/services/route-binding.html">Manage Application Requests with Route Services</a>
              </li>
              <li>
                <a href="/devguide/services/play-service-bindings.html">Configuring Play Framework Service Connections</a>
              </li>
              <li>
                <a href="/devguide/services/migrate-db.html">Migrating a Database in Cloud Foundry</a>
              </li>
              <li>
                <a href="/devguide/services/log-management.html">Streaming Application Logs to Log Management Services</a>
              </li>
              <li>
                <a href="/devguide/services/log-management-thirdparty-svc.html">Service-Specific Instructions for Streaming Application Logs</a>
              </li>
              <li>
                <a href="/devguide/services/integrate-splunk.html">Integrating Cloud Foundry with Splunk</a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <span>
          Custom Services
        </span>
        <ul>
          <li>
            <a href="/services/">Custom Services</a>
          </li>
          <li>
            <a href="/services/overview.html">Overview</a>
          </li>
          <li>
            <a href="/services/api.html">Service Broker API</a>
          </li>
          <li>
            <a href="/services/managing-service-brokers.html">Managing Service Brokers</a>
          </li>
          <li>
            <a href="/services/access-control.html">Access Control</a>
          </li>
          <li>
            <a href="/services/catalog-metadata.html">Catalog Metadata</a>
          </li>
          <li>
            <a href="/services/binding-credentials.html">Binding Credentials</a>
          </li>
          <li>
            <a href="/services/dashboard-sso.html">Dashboard Single Sign-On</a>
          </li>
          <li>
            <a href="/services/examples.html">Example Service Brokers</a>
          </li>
          <li>
            <a href="/services/app-log-streaming.html">Application Log Streaming</a>
          </li>
          <li>
            <a href="/services/route-services.html">Route Services</a>
          </li>
          <li>
            <a href="/services/supporting-multiple-cf-instances.html">Supporting Multiple Cloud Foundry Instances</a>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <span>
          Buildpacks
        </span>
        <ul>
          <li>
            <a href="/buildpacks/">Buildpacks</a>
          </li>
          <li>
            <a href="/buildpacks/detection.html">Buildpack Detection</a>
          </li>
          <li>
            <a href="/buildpacks/custom.html">Custom Buildpacks</a>
          </li>
          <li>
            <a href="/buildpacks/proxy-usage.html">Proxy Usage</a>
          </li>
          <li>
            <a href="/buildpacks/depend-pkg-offline.html">Packaging Dependencies for Offline Buildpacks</a>
          </li>
          <li>
            <a href="/buildpacks/supported-binary-dependencies.html">Supported Binary Dependencies</a>
          </li>
          <li>
            <a href="/buildpacks/prod-server.html">Configuring a Production Server</a>
          </li>
          <li>
          <a href="/buildpacks/merging_upstream.html">Merging from Upstream Buildpacks</a>
          </li>
          <li>
          <a href="/buildpacks/upgrading_dependency_versions.html">Upgrading Dependency Versions</a>
         </li>
          <li class="has_submenu">
            <a href="/buildpacks/java/index.html">Java Buildpack</a>
            <ul>
              <li>
                <a href="/buildpacks/java/bosh_custom_trusted_certs.html">BOSH Custom Trusted Certificate Support</a>
              </li>
              <li>
                <a href="/buildpacks/java/java-tips.html">Tips for Java Developers</a>
              </li>
              <li>
                <a href="/buildpacks/java/sts.html">Cloud Foundry Eclipse Plugin</a>
              </li>
              <li>
                <a href="/buildpacks/java/java-client.html">Cloud Foundry Java Client Library</a>
              </li>
              <li>
                <a href="/buildpacks/java/build-tool-int.html">Build Tool Integration</a>
              </li>
              <li>
                <a href="/buildpacks/java/gsg-grails.html">Getting Started Deploying Grails Apps</a>
              </li>
              <li>
                <a href="/buildpacks/java/gsg-spring.html">Getting Started Deploying Spring Apps</a>
              </li>
              <li>
                <a href="/buildpacks/java/gsg-ratpack.html">Getting Started Deploying Ratpack Apps</a>
              </li>
              <li>
                <a href="/buildpacks/java/grails-service-bindings.html">Configure Service Connections for Grails</a>
              </li>
              <li>
                <a href="/buildpacks/java/spring-service-bindings.html">Configure Service Connections for Spring</a>
              </li>
              <li>
                <a href="/buildpacks/java/play-service-bindings.html">Configure Service Connections for Play</a>
              </li>
            </ul>
          </li>
          <li class="has_submenu">
            <a href="/buildpacks/ruby/index.html">
              Ruby Buildpack
            </a>
            <ul>
              <li>
                <a href="/buildpacks/ruby/ruby-tips.html">Tips for Ruby Developers</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/gsg-ruby.html">Getting Started Deploying Ruby Apps</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/gsg-ror.html">Getting Started Deploying Ruby on Rails Apps</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/sample-ror.html">Deploy a Sample Ruby on Rails App</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/rake-config.html">Configure Rake Tasks for Deployed Apps</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/ruby-environment.html">Environment Variables Defined by the Ruby Buildpack</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/ruby-service-bindings.html">Configure Service Connections for Ruby</a>
              </li>
              <li>
                <a href="/buildpacks/ruby/rvm.html">Mark's Ruby Version Manager Documentation</a>
              </li>
            </ul>
          </li>
          <li class="has_submenu">
            <a href="/buildpacks/node/index.html">Node.js Buildpack</a>
            <ul>
              <li>
                <a href="/buildpacks/node/node-tips.html">Tips for Node.js Applications</a>
              </li>
              <li>
                <a href="/buildpacks/node/node-environment.html">Environment Variables Defined by the Node Buildpack</a>
              </li>
              <li>
                <a href="/buildpacks/node/node-service-bindings.html">Configure Service Connections for Node.js</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/buildpacks/binary/index.html">Binary Buildpack</a>
          </li>
          <li>
            <a href="/buildpacks/go/index.html">Go Buildpack</a>
          </li>
          <li class="has_submenu">
            <a href="/buildpacks/php/index.html">
              PHP Buildpack
            </a>
            <ul>
              <li>
                <a href="/buildpacks/php/gsg-php-usage.html">Deploying and Developing PHP Apps</a>
              </li>
              <li>
                <a href="/buildpacks/php/gsg-php-config.html">PHP Buildpack Configuration</a>
              </li>
              <li>
                <a href="/buildpacks/php/gsg-php-composer.html">Composer</a>
              </li>
              <li>
                <a href="/buildpacks/php/gsg-php-sessions.html">Sessions</a>
              </li>
              <li>
                <a href="/buildpacks/php/gsg-php-newrelic.html">New Relic</a>
              </li>
              <li>
                <a href="/buildpacks/php/gsg-php-tips.html">Tips for PHP Developers</a>
              </li>
            </ul>
          </li>
          <li>
            <a href="/buildpacks/python/index.html">Python Buildpack</a>
          </li>
          <li>
            <a href="/buildpacks/staticfile/index.html">Staticfile Buildpack</a>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <a href="/running/">Run and Troubleshoot Cloud Foundry</a>
        <ul>
          <li>
            <a href="/running/managing-cf/logging.html">Cloud Foundry Logging</a>
          </li>
          <li>
            <a href="/running/managing-cf/logging-config.html">Configuring System Logging</a>
          </li>
          <li>
            <a href="/running/managing-cf/usage-events.html">Usage Events and Billing</a>
          </li>
          <li>
            <a href="/running/config-ssh.html">Configuring SSH Access for Cloud Foundry</a>
          </li>
          <li>
            <a href="/running/monitoring-test.html">Monitoring and Testing Diego Components</a>
          </li>
          <li>
            <a href="/running/troubleshooting.html">Troubleshooting Cloud Foundry</a>
          </li>
          <li>
            <a href="/running/troubleshooting/troubleshooting-apps.html">Troubleshooting Applications</a>
          </li>
          <li>
            <a href="/running/troubleshooting/troubleshooting-warden-services.html">Troubleshooting Wardenized Services</a>
          </li>
          <li>
            <a href="/running/troubleshooting/troubleshooting-diego-windows.html">Troubleshooting Diego for Windows</a>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <span>Administer Cloud Foundry</span>
        <ul>
          <li>
            <a href="/adminguide/buildpacks.html">Adding Buildpacks to Cloud Foundry</a>
          </li>
          <li>
            <a href="/adminguide/manage-domains-routes.html">Managing Domains and Routes</a>
          </li>
          <li>
            <a href="/adminguide/cli-user-management.html">Creating and Managing Users with the cf CLI</a>
          </li>
          <li>
            <a href="/adminguide/uaa-user-management.html">Creating and Managing Users with the UAA CLI (UAAC)</a>
          </li>
          <li>
            <a href="/adminguide/quota-plans.html">Creating and Modifying Quota Plans</a>
          </li>
          <li>
            <a href="/adminguide/notifications.html">Getting Started with the Notifications Service</a>
          </li>
          <li>
            <a href="/adminguide/app-sec-groups.html">Application Security Groups</a>
          </li>
          <li>
            <a href="/adminguide/listing-feature-flags.html">Feature Flags</a>
          </li>
          <li>
            <a href="/adminguide/enabling_ipv6.html">Enabling IPv6 for Hosted Applications</a>
          </li>
          <li>
            <a href="/adminguide/securing-traffic.html">Securing Traffic into Cloud Foundry</a>
          </li>
          <li>
            <a href="/adminguide/apps-enable-diego.html">Migrating Apps to Diego</a>
          </li>
          <li>
            <a href="/adminguide/hm-notifications.html">Configuring Health Monitor Notifications</a>
          </li>
          <li>
            <a href="/adminguide/supporting-websockets.html">Supporting WebSockets</a>
          </li>
        </ul>
      </li>
      <li class="has_submenu">
        <span>
          Cloud Foundry Concepts
        </span>
        <ul>
          <!--
            <li>
            <a href="/concepts/index.html">Cloud Foundry Concepts (landing)</a>
            </li>
          -->
          </li>
          <li>
            <a href="/concepts/overview.html">Cloud Foundry Overview</a>
          </li>
          <li>
            <a href="/concepts/architecture/">Cloud Foundry Components</a>
          </li>
          <li>
            <a href="/concepts/diego/diego-architecture.html">Diego Architecture</a>
          </li>
          <li>
            <a href="/concepts/diego/dea-vs-diego.html">Differences Between DEA and Diego Architectures</a>
          </li>
          <li>
            <a href="/concepts/diego/diego-auction.html">How the Diego Auction Allocates Jobs</a>
          </li>
          <li>
            <a href="/concepts/how-applications-are-staged.html">How Applications Are Staged</a>
          </li>
          <li>
            <a href="/concepts/diego/ssh-conceptual.html">Understanding Application SSH</a>
          </li>
          <li>
            <a href="/concepts/roles.html">Orgs, Spaces, Roles, and Permissions</a>
          </li>
          <li>
            <a href="/concepts/security.html">Cloud Foundry Security</a>
          </li>
            <li>
            <a href="/concepts/http-routing.html">HTTP Routing</a>
          </li>
          <li>
            <a href="/concepts/stacks.html">Stacks</a>
          </li>
          <li>
            <a href="/concepts/docker.html">Using Docker in Cloud Foundry</a>
          </li>
        </ul>
      </li>

      <li class="has_submenu">
        <span>
          Logging and Metrics in Cloud Foundry
        </span>
        <ul>
          <li>
            <a href="/loggregator/architecture.html">Overview of the Loggregator System</a>
          </li>
          <li>
            <a href="/loggregator/cli-plugin.html">Installing the Loggregator Plugin for CF CLI</a>
          </li>
          <li>
            <a href="/loggregator/cc-uaa-logging.html">Security Event Logging for Cloud Controller and UAA</a>
          </li>
          <li>
            <a href="/loggregator/all_metrics.html">Cloud Foundry Component Metrics</a>
          </li>
          <li>
            <a href="/loggregator/dea-metrics.html">DEA Architecture Component Metrics</a>
          </li>
          <li>
            <a href="/loggregator/log-ops-guide.html">Loggregator Guide for Cloud Foundry Operators</a>
          </li>
          <li>
            <a href="/loggregator/data-sources.html">Cloud Foundry Data Sources</a>
          </li>
          <li>
            <a href="/loggregator/nozzle-tutorial.html">Deploying a Nozzle to the Loggregator Firehose</a>
          </li>
        </ul>
      </li>
      <li>
        <a href="/api/uaa/index.html">UAA API</a>
      </li>
      <li>
        <a href="http://bosh.io/docs/">BOSH</a>
      </li>
    </ul>
  </div>
</div>

      <!--googleon: index-->

      <main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container" >
    Tips for Java Developers
  </h1>

          <div id="js-quick-links" >
            <div class="quick-links"><ul>
<li><a href="#grails">Grails</a></li>
<li>
<a href="#groovy">Groovy</a><ul>
<li><a href="#ratpack">Ratpack</a></li>
<li><a href="#raw-groovy">Raw Groovy</a></li>
</ul>
</li>
<li>
<a href="#java-main">Java Main</a><ul>
<li><a href="#java-main-maven">Maven</a></li>
<li><a href="#java-main-gradle">Gradle</a></li>
</ul>
</li>
<li><a href="#play-framework">Play Framework</a></li>
<li><a href="#spring-boot-cli">Spring Boot CLI</a></li>
<li>
<a href="#servlet">Servlet</a><ul>
<li><a href="#servlet-maven">Maven</a></li>
<li><a href="#servlet-gradle">Gradle</a></li>
</ul>
</li>
<li><a href="#services">Binding to Services</a></li>
<li><a href="#buildpack">Java Buildpack</a></li>
<li><a href="#design">Design</a></li>
<li><a href="#configuration">Configuration</a></li>
<li>
<a href="#java-apps">Java and Grails Best Practices</a><ul>
<li><a href="#jdbc">Provide JDBC driver</a></li>
<li><a href="#memory">Allocate Sufficient Memory</a></li>
<li><a href="#upload">Troubleshoot Failed Upload</a></li>
<li><a href="#debugging">Debug Java Apps on Cloud Foundry</a></li>
<li><a href="#slow-start">Slow Starting Java or Grails Apps</a></li>
</ul>
</li>
<li><a href="#extension">Extension</a></li>
<li><a href="#env-var">Environment Variables</a></li>
</ul></div>
          </div>
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>
        <p><strong></strong></p>

<p>Cloud Foundry can deploy a number of different JVM-based artifact types.
For a more detailed explanation of what it supports, see the <a href="https://github.com/cloudfoundry/java-buildpack#additional-documentation">Java Buildpack documentation</a>.</p>

<h2>Java Client Library</h2>

<p>The Cloud Foundry Client Library provides a Java API for interacting with a
Cloud Foundry instance.
This library, <code>cloudfoundry-client-lib</code>, is used by the Cloud Foundry Maven
plugin, the Cloud Foundry Gradle plugin, the <a href="/buildpacks/java/sts.html">Cloud Foundry STS integration</a>, and other Java-based tools.</p>

<p>For information about using this library, see the <a href="/buildpacks/java/java-client.html">Java Cloud Foundry Library</a> page.</p>

<h2><a id='grails'></a>Grails</h2>

<p>Grails packages applications into WAR files for deployment into a Servlet
container.
To build the WAR file and deploy it, run the following:</p>

<pre class="terminal">
$ grails prod war
$ cf push my-application -p target/my-application-version.war
</pre>

<h2><a id='groovy'></a>Groovy</h2>

<p>Groovy applications based on both <a href="http://www.ratpack.io">Ratpack</a> and a simple collection of files
are supported.</p>

<h3><a id='ratpack'></a>Ratpack</h3>

<p>Ratpack packages applications into two different styles; Cloud Foundry supports
the <code>distZip</code> style. To build the ZIP and deploy it, run the following:</p>

<pre class="terminal">
$ gradle distZip
$ cf push my-application -p build/distributions/my-application.zip
</pre>

<h3><a id='raw-groovy'></a>Raw Groovy</h3>

<p>Groovy applications that are made up of a <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/container-groovy.md">single entry point</a> plus any
supporting files can be run without any other work.
To deploy them, run the following:</p>

<pre class="terminal">
$ cf push my-application
</pre>

<h2><a id='java-main'></a>Java Main</h2>

<p>Java applications with a <code>main()</code> method can be run provided that they are
packaged as <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/container-java_main.md">self-executable JARs</a>.</p>

<p class="note"><strong>Note</strong>: If your application is not web-enabled, you must suppress route creation to avoid a &ldquo;failed to start accepting connections&rdquo; error. To suppress route creation, add <code>no-route: true</code> to the application manifest or use the <code>--no-route</code> flag with the <code>cf push</code> command. <br><br>For more information about the <code>no-route</code> attribute, see the <a href="../../devguide/deploy-apps/manifest.html#no-route">Deploying with Application Manifests</a> topic.</p>

<h3><a id='java-main-maven'></a>Maven</h3>

<p>A Maven build can create a self-executable JAR.
To build and deploy the JAR, run the following:</p>

<pre class="terminal">
$ mvn package
$ cf push my-application -p target/my-application-version.jar
</pre>

<h3><a id='java-main-gradle'></a>Gradle</h3>

<p>A Gradle build can create a self-executable JAR.
To build and deploy the JAR, run the following:</p>

<pre class="terminal">
$ gradle build
$ cf push my-application -p build/libs/my-application-version.jar
</pre>

<h2><a id='play-framework'></a>Play Framework</h2>

<p>The <a href="http://www.playframework.com">Play Framework</a> packages applications into two different styles.
Cloud Foundry supports both the <code>staged</code> and <code>dist</code> styles. To build the <code>dist</code>
style and deploy it, run the following:</p>

<pre class="terminal">
$ play dist
$ cf push my-application -p target/universal/my-application-version.zip
</pre>

<h2><a id='spring-boot-cli'></a>Spring Boot CLI</h2>

<p><a href="http://projects.spring.io/spring-boot/">Spring Boot</a> can run applications <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/container-spring_boot_cli.md">comprised entirely of POGOs</a>.
To deploy then, run the following:</p>

<pre class="terminal">
$ spring grab *.groovy
$ cf push my-application
</pre>

<h2><a id='servlet'></a>Servlet</h2>

<p>Java applications can be packaged as Servlet applications.</p>

<h3><a id='servlet-maven'></a>Maven</h3>

<p>A Maven build can create a Servlet WAR.
To build and deploy the WAR, run the following:</p>

<pre class="terminal">
$ mvn package
$ cf push my-application -p target/my-application-version.war
</pre>

<h3><a id='servlet-gradle'></a>Gradle</h3>

<p>A Gradle build can create a Servlet WAR.
To build and deploy the JAR, run the following:</p>

<pre class="terminal">
$ gradle build
$ cf push my-application -p build/libs/my-application-version.war
</pre>

<h2><a id='services'></a>Binding to Services</h2>

<p>Information about binding apps to services can be found on the following pages:</p>

<ul>
<li><a href="/buildpacks/java/grails-service-bindings.html">Service Bindings for Grails Applications</a></li>
<li><a href="/buildpacks/java/play-service-bindings.html">Service Bindings for Play Framework Applications</a></li>
<li><a href="/buildpacks/java/spring-service-bindings.html">Service Bindings for Spring Applications</a></li>
</ul>

<hr>

<h2><a id='buildpack'></a>Java Buildpack</h2>

<p>For detailed information about using, configuring, and extending the Cloud
Foundry Java buildpack, see <a href="https://github.com/cloudfoundry/java-buildpack">https://github.com/cloudfoundry/java-buildpack</a>.</p>

<h2><a id='design'></a>Design</h2>

<p>The Java Buildpack is designed to convert artifacts that run on the JVM into
executable applications.
It does this by identifying one of the supported artifact types (Grails, Groovy,
Java, Play Framework, Spring Boot, and Servlet) and downloading all additional
dependencies needed to run.
The collection of services bound to the application is also analyzed and any
dependencies related to those services are also downloaded.</p>

<p>As an example, pushing a WAR file that is bound to a PostgreSQL database and New
Relic for performance monitoring would result in the following:</p>

<pre class="terminal">
Initialized empty Git repository in /tmp/buildpacks/java-buildpack/.git/
--> Java Buildpack source: https://github.com/cloudfoundry/java-buildpack#0928916a2dd78e9faf9469c558046eef09f60e5d
--> Downloading Open Jdk JRE 1.7.0_51 from
      http://.../openjdk/lucid/x86_64/openjdk-1.7.0_51.tar.gz (0.0s)
        Expanding Open Jdk JRE to .java-buildpack/open_jdk_jre (1.9s)
--> Downloading New Relic Agent 3.4.1 from
      http://.../new-relic/new-relic-3.4.1.jar (0.4s)
--> Downloading Postgresql JDBC 9.3.1100 from
      http://.../postgresql-jdbc/postgresql-jdbc-9.3.1100.jar (0.0s)
--> Downloading Spring Auto Reconfiguration 0.8.7 from
      http://.../auto-reconfiguration/auto-reconfiguration-0.8.7.jar (0.0s)
        Modifying /WEB-INF/web.xml for Auto Reconfiguration
--> Downloading Tomcat 7.0.50 from
      http://.../tomcat/tomcat-7.0.50.tar.gz (0.0s)
        Expanding Tomcat to .java-buildpack/tomcat (0.1s)
--> Downloading Buildpack Tomcat Support 1.1.1 from
      http://.../tomcat-buildpack-support/tomcat-buildpack-support-1.1.1.jar (0.1s)
--> Uploading droplet (57M)
</pre>

<h2><a id='configuration'></a>Configuration</h2>

<p>In most cases, the buildpack should work without any configuration.
If you are new to Cloud Foundry, we recommend that you make your first attempts
without modifying the buildpack configuration.
If the buildpack requires some configuration, use <a href="https://github.com/cloudfoundry/java-buildpack#configuration-and-extension">a fork of the buildpack</a>.</p>

<h2><a id='java-apps'></a>Java and Grails Best Practices</h2>

<h3><a id='jdbc'></a>Provide JDBC driver</h3>

<p>The Java buildpack does not bundle a JDBC driver with your application.
If your application will access a SQL RDBMS, include the appropriate driver in
your application.</p>

<h3><a id='memory'></a>Allocate Sufficient Memory</h3>

<p>If you do not allocate sufficient memory to a Java application when you deploy
it, it may fail to start, or Cloud Foundry may terminate it.
You must allocate enough memory to allow for the following:</p>

<ul>
<li>Java heap</li>
<li>Metaspace, if using Java 8</li>
<li>PermGen, if using Java 7 or earlier</li>
<li>Thread stacks</li>
<li>JVM overhead</li>
</ul>

<p>The <code>config/open_jdk_jre.yml</code> file of the <a href="https://github.com/cloudfoundry/java-buildpack">Cloud Foundry Java buildpack</a> contains default
memory size and weighting settings for the JRE.
See the <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/jre-open_jdk_jre.md">Open JDK JRE README</a> on GitHub for an explanation of JRE memory sizes and weightings and
how the Java buildpack calculates and allocates memory to the JRE for your app.</p>

<p>To configure memory-related JRE options for your app, you create a custom
buildpack and specify this buildpack in your deployment manifest.
For more information about configuring custom buildpacks and manifests, refer to
the <a href="/buildpacks/custom.html">Custom Buildpacks</a> and <a href="../../devguide/deploy-apps/manifest.html">Deploying with
Application Manifests</a> topics.</p>

<p>When your app is running, you can use the <code>cf app APP-NAME</code> command to see
memory utilization.</p>

<h3><a id='upload'></a>Troubleshoot Failed Upload</h3>

<p>If your application fails to upload when you push it to Cloud Foundry, it may be
for one of the following reasons:</p>

<ul>
<li><p>WAR is too large: An upload may fail due to the size of the WAR file.
Cloud Foundry testing indicates WAR files as large as 250 MB upload
successfully.
If a WAR file larger than that fails to upload, it may be a result of the file
size.</p></li>
<li><p>Connection issues: Application uploads can fail if you have a slow Internet
connection, or if you upload from a location that is very remote from the target
Cloud Foundry instance.
If an application upload takes a long time, your authorization token can expire
before the upload completes.
A workaround is to copy the WAR to a server that is closer to the Cloud Foundry
instance, and push it from there.</p></li>
<li><p>Out-of-date cf CLI client: Upload of a large WAR is faster and hence less
likely to fail if you are using a recent version of the cf CLI.
If you are using an older version of the cf CLI client to upload a large WAR, and having
problems, try updating to the latest version of the cf CLI.</p></li>
<li><p>Incorrect WAR targeting: By default, <code>cf push</code> uploads everything in the
current directory.
For a Java application, a plain <code>cf push</code> push will upload source code and other
unnecessary files, in addition to the WAR.
When you push a Java application, specify the path to the WAR:</p>

<pre class="terminal">
$ cf push MY-APP -p PATH/TO/WAR-FILE
</pre>

<p>You can determine whether or not the path was specified for a previously
pushed application by looking at the application deployment manifest,
<code>manifest.yml</code>.
If the <code>path</code> attribute specifies the current directory, the manifest will
include a line like this:</p>
<pre class="highlight plaintext"><code>path: .
</code></pre>

<p>To re-push just the WAR, either:</p>

<ul>
<li>Delete <code>manifest.yml</code> and push again, specifying the location of the WAR
using the <code>-p</code> flag, or</li>
<li>Edit the <code>path</code> argument in <code>manifest.yml</code> to point to the WAR, and
re-push the application.</li>
</ul></li>
</ul>

<h3><a id='debugging'></a>Debug Java Apps on Cloud Foundry</h3>

<p>Because of the way that Cloud Foundry deploys your applications and isolates them, it is not possible to connect to your application with the remote Java debugger. Instead, instruct the application to connect to the Java debugger on your local machine.</p>

<p>Here are the instructions for setting up remote debugging when using BOSH Lite or a CloudFoundry installation.</p>

<ol>
<li>Open your project in <a href="/buildpacks/java/sts.html">Eclipse</a>.</li>
<li>Right-click on your project, go to <strong>Debug as</strong> and pick <strong>Debug Configurations</strong>.</li>
<li>Create a new <strong>Remote Java Application</strong>.</li>
<li>Make sure your project is selected, pick <strong>Standard (Socket Listen)</strong> from the <strong>Connection Type</strong> drop down and set a port. Make sure this port is open if you are running a firewall.</li>
<li>Click <strong>Debug</strong>.</li>
</ol>

<p>The debugger should now be running. If you switch to the Debug perspective, you should see your application listed in the Debug panel and it should say <code>Waiting for vm to connect at port</code>.</p>

<p>Next, push your application to Cloud Foundry and instruct Cloud Foundry to connect to the debugger running on your local machine using the following instructions:</p>

<ol>
<li>Edit your <code>manifest.yml</code> file. Set the instances count to 1. If you set this greater than one, multiple applications try to connect to your debugger.</li>
<li>Also in <code>manifest.yml</code>, add the <a href="http://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html#env-block"><code>env</code> section</a> and create a variable called <code>JAVA_OPTS</code>.</li>
<li>Add the remote debugger configuration to the <code>JAVA_OPTS</code> variable: <code>-agentlib:jdwp=transport=dt_socket,address=YOUR-IP-ADDRESS:YOUR-PORT</code>.</li>
<li>Save the <code>manifest.yml</code> file.</li>
<li>Run <code>cf push</code>.</li>
</ol>

<p>Upon completion, you should see that your application has started and is now connected to the debugger running in your IDE. You can now add breakpoints and interrogate the application just as you would if it were running locally.</p>

<h3><a id='slow-start'></a>Slow Starting Java or Grails Apps</h3>

<p>Some Java and Grails applications do not start quickly, and the DEA health check
for an application can fail if an application starts too slowly.</p>

<p>The current Java buildpack implementation sets the Tomcat <code>bindOnInit</code> property
to <code>false</code>. This prevents Tomcat from listening for HTTP requests until an
application has fully deployed.</p>

<p>If your application does not start quickly, the DEA health check may fail
because it checks the health of the application before the application can
accept requests.
By default, the DEA health check fails after a timeout threshold of 60 seconds.</p>

<p>To resolve this issue, use <code>cf push APP-NAME</code> with the <code>-t TIMEOUT-THRESHOLD</code>
option to increase the timeout threshold.
Specify TIMEOUT-THRESHOLD in seconds.</p>

<pre class="terminal">
$ cf push my-app -t 180
</pre>

<p class="note"><strong>Note</strong>: The timeout threshold cannot exceed 180 seconds. Specifying a timeout threshold greater than 180 seconds results in the following error: <code>Server error, status code: 400, error code: 100001, message: The app is invalid: health_check_timeout maximum_exceeded</code></p>

<p>If your Java or Grails application requires more than 180 seconds to start, you
can fork the Java buildpack and change the value of <code>bindOnInit</code> to <code>true</code> in
<code>resources/tomcat/conf/server.xml</code>.
This change allows Tomcat to listen for HTTP requests before your application
has fully deployed.</p>

<p class="note"><strong>Note</strong>: Changing the value of <code>bindOnInit</code> to <code>true</code> allows the DEA health check of your application to pass even before your application has fully deployed. In this state, Cloud Foundry might pass requests to your application before your application can serve them.</p>

<h2><a id='extension'></a>Extension</h2>

<p>The Java Buildpack is also designed to be easily extended.
It creates abstractions for <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/design.md">three types of components</a> (containers,
frameworks, and JREs) in order to allow users to easily add functionality.
In addition to these abstractions, there are a number of <a href="https://github.com/cloudfoundry/java-buildpack/blob/master/docs/extending.md">utility classes</a>
for simplifying typical buildpack behaviors.</p>

<p>As an example, the New Relic framework looks like the following:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">NewRelicAgent</span> <span class="o">&lt;</span> <span class="no">JavaBuildpack</span><span class="o">::</span><span class="no">Component</span><span class="o">::</span><span class="no">VersionedDependencyComponent</span>

  <span class="c1"># @macro base_component_compile</span>
  <span class="k">def</span> <span class="nf">compile</span>
    <span class="no">FileUtils</span><span class="p">.</span><span class="nf">mkdir_p</span> <span class="n">logs_dir</span>

    <span class="n">download_jar</span>
    <span class="vi">@droplet</span><span class="p">.</span><span class="nf">copy_resources</span>
  <span class="k">end</span>

  <span class="c1"># @macro base_component_release</span>
  <span class="k">def</span> <span class="nf">release</span>
    <span class="vi">@droplet</span><span class="p">.</span><span class="nf">java_opts</span>
    <span class="p">.</span><span class="nf">add_javaagent</span><span class="p">(</span><span class="vi">@droplet</span><span class="p">.</span><span class="nf">sandbox</span> <span class="o">+</span> <span class="n">jar_name</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">add_system_property</span><span class="p">(</span><span class="s1">'newrelic.home'</span><span class="p">,</span> <span class="vi">@droplet</span><span class="p">.</span><span class="nf">sandbox</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">add_system_property</span><span class="p">(</span><span class="s1">'newrelic.config.license_key'</span><span class="p">,</span> <span class="n">license_key</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">add_system_property</span><span class="p">(</span><span class="s1">'newrelic.config.app_name'</span><span class="p">,</span> <span class="s2">"'</span><span class="si">#{</span><span class="n">application_name</span><span class="si">}</span><span class="s2">'"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">add_system_property</span><span class="p">(</span><span class="s1">'newrelic.config.log_file_path'</span><span class="p">,</span> <span class="n">logs_dir</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="kp">protected</span>

  <span class="c1"># @macro versioned_dependency_component_supports</span>
  <span class="k">def</span> <span class="nf">supports?</span>
    <span class="vi">@application</span><span class="p">.</span><span class="nf">services</span><span class="p">.</span><span class="nf">one_service?</span> <span class="no">FILTER</span><span class="p">,</span> <span class="s1">'licenseKey'</span>
  <span class="k">end</span>

  <span class="kp">private</span>

  <span class="no">FILTER</span> <span class="o">=</span> <span class="sr">/newrelic/</span><span class="p">.</span><span class="nf">freeze</span>

  <span class="k">def</span> <span class="nf">application_name</span>
    <span class="vi">@application</span><span class="p">.</span><span class="nf">details</span><span class="p">[</span><span class="s1">'application_name'</span><span class="p">]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">license_key</span>
    <span class="vi">@application</span><span class="p">.</span><span class="nf">services</span><span class="p">.</span><span class="nf">find_service</span><span class="p">(</span><span class="no">FILTER</span><span class="p">)[</span><span class="s1">'credentials'</span><span class="p">][</span><span class="s1">'licenseKey'</span><span class="p">]</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">logs_dir</span>
    <span class="vi">@droplet</span><span class="p">.</span><span class="nf">sandbox</span> <span class="o">+</span> <span class="s1">'logs'</span>
  <span class="k">end</span>

<span class="k">end</span>
</code></pre>

<h2><a id='env-var'></a>Environment Variables</h2>

<p>You can access environments variable programmatically.</p>

<p>For example, you can obtain <code>VCAP_SERVICES</code> as follows:</p>
<pre class="highlight plaintext"><code>System.getenv("VCAP_SERVICES");
</code></pre>

<p>See the <a href="../../devguide/deploy-apps/environment-variable.html">Cloud Foundry Environment Variables</a> topic for more information.</p>

        <a id='repo-link' href='http://github.com/cloudfoundry/docs-buildpacks/tree/master/java/java-tips.html.md.erb'>View the source for this page in GitHub</a>

      </main>
    </div>
  </div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
  <a href='/'>Cloud Foundry Documentation</a>
  &copy; 2016 <a href='http://cloudfoundry.org'>Cloud Foundry Foundation</a>. All Rights Reserved.
</div>
<div class="support">
  <a href="https://www.cloudfoundry.org/contribute/" target="_blank">Get Involved</a>
</div>

  </footer>
</div><!--end of container-->

</body>
</html>
